#!/bin/bash
awk '
{
    count[$1, $9]++
}
END {
    for (key in count) {
        split(key, arr, SUBSEP)
        print count[key], arr[1], arr[2]
    }
}' /path/to/apache.log | sort -nr